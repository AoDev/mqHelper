/* Author: Kevin Purnelle

	MqHelper website app
*/var App=function(e){"use strict";function n(){var e=" /*Example*/\n.somerule {\n    color: rgb(100,250,90);\n}\n@media screen and (    max-width:979px){\n	.rule979-one {\n		background-color: #ccddee;\n		color: rgb(255,255,255)\n	}\n	.rule979-two {\n		opacity:0.5;\n		margin: 15px 0px 15px 10px\n	}\n}\n@media screen and (max-width:480px){\n	.rule480-one {\n		property1:value;\n		property2:value\n	}\n	.rule480-two {\n		property1:value;\n		property2:value\n	}\n}\n@media screen AND (max-width:979px){\n	.rule979-again {\n		property1:value;\n	}\n}\n@media screen and (max-width:480px){\n	.rule480-again {\n		property1:value;\n		property2:value\n	}\n	.rule480-again2 {\n		property1:value;\n		property2:value\n	}\n}\n@media screen and (max-width:979px){\n	.rule979-again2 {\n		property1:value;\n	}\n}";t.$.source.val(e)}var t={};t.options={stripped:null,groups:null,normal:!0,position:"bottom",minify:{basic:!1,zeros:!1,rgbcolors:!1,oldIeCompatibility:!1}};t.results={};t.init=function(){t.$={optionsWrapper:e("#processOptions"),form:e("#mqh-form"),groups:e("#groups"),normal:e("#normal"),resultsWrapper:e("#results-container"),source:e("#textarea-source-code"),stripped:e("#stripped"),invisiblesAndComments:e("#invisiblesAndComments"),zeros:e("#zeros"),rgbcolors:e("#rgbcolors"),oldIeCompatibility:e("#oldIeCompatibility"),btnToggleOptions:e("#btn-toggle-options")};t.$.optionsWrapper.hide();t.$.normal.on("click",function(n){t.options.normal=e(this).is(":checked")});t.$.stripped.on("click",function(n){t.options.stripped=e(this).is(":checked")});t.$.groups.on("click",function(n){t.options.groups=e(this).is(":checked")});t.$.invisiblesAndComments.on("click",function(n){t.options.minify.basic=e(this).is(":checked")});t.$.zeros.on("click",function(n){t.options.minify.zeros=e(this).is(":checked")});t.$.rgbcolors.on("click",function(n){t.options.minify.rgbcolors=e(this).is(":checked")});t.$.oldIeCompatibility.on("click",function(n){t.options.minify.oldIeCompatibility=e(this).is(":checked")});t.$.btnToggleOptions.on("click",function(e){t.$.optionsWrapper.toggle()});t.$.form.on("submit",t.processCss);n()};t.processCss=function(r){r.preventDefault();t.results=MqHelper.process(t.$.source.val());t.$.resultsWrapper.html(t.resultToHtml(t.results));t.getAndDisplayStats();setTimeout(function(){var t=e(".stats-wrapper");t.fadeOut(250,function(){t.remove()})},1e4)};t.getAndDisplayStats=function(){var n="",r=t.$.source.val().length,i=t.results.fullCss.length;n+='<div class="stats-wrapper">';n+='<h3 class="title">Results stats</h3>';n+="<ul>";n+="<li>";n+="Source size: "+r+" bytes";n+="</li>";n+="<li>";n+="Result size: "+i+" bytes";n+="</li>";n+="<li>";n+="Media queries found in source: "+t.results.stats.mqFound;n+="</li>";n+="<li>";n+="Media queries after defrag: "+t.results.stats.mqDefrag;n+="</li>";n+="</ul>";n+="</div>";e("body").append(n)};t.resultToHtml=function(e,n){var r="",i="",s="",o={};if(t.options.normal){r+="<h2> Your code with grouped media queries </h2>";s=t.results.fullCss;r+="<div>";r+="<textarea>";r+=s;r+="</textarea>";r+="</div>"}if(t.options.stripped||t.options.groups){r+="<h2> Individual results </h2>";if(t.options.stripped){r+="<h3> Code stripped from media queries </h3>";r+="<div>";r+="<textarea>";r+=t.results.stripped;r+="</textarea>";r+="</div>"}if(t.options.groups){r+="<div>";for(var u=0,a=t.results.mqs.length;u<a;u++){r+="<h3>"+t.results.mqs[u].query+"</h3>";r+="<textarea>";r+=t.results.mqs[u].query+" {\n";r+=t.results.mqs[u].rules+"\n}";r+="</textarea>"}r+="</div>"}}return r};e().ready(function(){t.init()});return t}(window.jQuery);